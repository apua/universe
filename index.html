<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title>Universe</title>

    <!-- favicon on Firefox -->
    <link rel="icon" href="icons/favicon.svg">
    <!-- mask icon on Safari -->
    <link rel="mask-icon" href="icons/maskicon.svg" color="green">

    <!-- for web application on iOS -->
    <link rel="apple-touch-icon" href="icons/webappicon.png">
    <meta name="apple-mobile-web-app-title" content="Universe">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- not use `theme-color`; just let Safari auto detect -->
    <!-- meta name="theme-color" content="#4285f4" -->

    <!-- for RWD design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- for search engine results page (SERP) -->
    <meta name="description" content="meta desc">

    <!-- for twitter card/open graph -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="og:title" content="og title">
    <meta property="og:description" content="og desc">
    <meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png">

    <!-- specify color-scheme compatible -->
    <meta name="color-scheme" content="dark light">

    <!-- dark if is light mode -->
    <style>
    @media (prefers-color-scheme: light) {
        :root { color-scheme: dark; }
    }
    @supports not (color-scheme: dark) {
        :root { background-color: #1E1E1E; color: white; }
    }
    </style>

    <!-- list dependent modules to fetch parallel -->
    <script type="module" src="core.js"></script>
  </head>
  <body>
    <!-- amount configuration -->
    <div>
      <label for="amount">Amount</label>
      <input id="amount" type="tel" min="11" max="99" value="11">
      <!-- `tel`:type: input field display convenient control to enter numbers -->
    </div>

    <!-- shape selection -->
    <div>
      <label for="shape">Shape</label>
      <select id="shape"></select>
      <template id="shape-option">
        <option value="shape_index">shape_name</option>
      </template>
      <script type="module">
      import { supports } from "./core.js";
      const frag = document.getElementById("shape-option").content;
      const tmpl = frag.querySelector("option");
      frag.replaceChildren(...supports.map((v,i) => {
        const opt = tmpl.cloneNode();
        opt.value = i;
        opt.text = v;
        return opt;
      }));
      document.getElementById("shape").append(frag);  // consume fragment
      </script>
    </div>

    <!-- draw universe in DOM -->
    <template id="universe-tmpl">
      <style>
      .sky {
        position: relative; /* be "containing block" for children positioning */
        isolation: isolate; /* create "stacking context" for z-index of children */
        background-color: rgb(0,0,0,0.5);
        width: auto; /* fit width to screen width dynamically */
        padding-bottom: 100%; /* make height equal to width dynamically */
        overflow: hidden;
      }
      .point {
        position: absolute;
        width: 30px; height: 30px; border-radius: 50%; /* draw circle where r = 30px */
      }
      .center {
        background-color: yellow;
        top: 0; right: 0; bottom: 0; left: 0; margin: auto;
      }
      .stars div {
        background-color: blue;
      }
      </style>
      <div class="sky">
        <div class="point center"></div>
        <template>
          <div class="point" style="top: 1px; left: 1px; z-index: 1; opacity: 1;"></div>
        </template>
        <div class="stars"></div>
      </div>
    </template>
    <div id="universe"></div>
    <script type="module">
    import { main } from "./core.js";

    const universe = document.getElementById("universe");
    const root = universe.attachShadow({mode:"open"});
    root.append(document.getElementById("universe-tmpl").content);

    main(root);
    </script>
  </body>
</html>
